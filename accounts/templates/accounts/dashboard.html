{% extends 'base.html' %}

{% block title %}User Dashboard | Buy Online Store{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Welcome, {{ user.username }}</h2>
    
    <div class="row">
        <div class="col-md-4">
            <div class="card mb-4 shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h5>Your Profile</h5>
                </div>
                <div class="card-body">
                    <p><strong>Email:</strong> {{ user.email }}</p>
                    <p><strong>Mobile Number:</strong> {{ user.mobile_number }}</p>
                    <p><strong>Address:</strong> {{ user.address }}</p>
                    <a href="{% url 'profile' %}" class="btn btn-outline-light">Edit Profile</a>
                    <a href="{% url 'apply_vendor' %}" class="btn btn-success mt-2">Apply to Become a Vendor</a>
                    <a href="{% url 'apply_collection_center' %}" class="btn btn-info mt-2">Apply for a Collection Center</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card mb-4 shadow-sm">
                <div class="card-header bg-success text-white">
                    <h5>Your Cart</h5>
                </div>
                <div class="card-body">
                    <p>You have <strong>{{ cart_item_count }}</strong> items in your cart.</p>
                    <a href="#" class="btn btn-outline-dark">View Cart</a>
                    <a href="#" class="btn btn-warning mt-2">Checkout</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card mb-4 shadow-sm">
                <div class="card-header bg-info text-white">
                    <h5>Order History</h5>
                </div>
                <div class="card-body">
                    <p>Check your past orders.</p>
                    <a href="#" class="btn btn-outline-dark">View Orders</a>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-md-12">
            <div class="card mb-4 shadow-sm">
                <div class="card-header bg-secondary text-white">
                    <h5>Your Selected Collection Center</h5>
                </div>
                <div class="card-body">
                    {% if user.usercollectioncenter_set.first %}
                        <p>You have selected: <strong>{{ user.usercollectioncenter_set.first.collection_center.centerName }}</strong> ({{ user.usercollectioncenter_set.first.collection_center.town }}, {{ user.usercollectioncenter_set.first.collection_center.county }})</p>
                    {% else %}
                        <p>You have not selected a collection center yet.</p>
                        <a href="{% url 'select_collection_center' %}" class="btn btn-outline-primary">Select Collection Center</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    
    
</div>
{% endblock %}
